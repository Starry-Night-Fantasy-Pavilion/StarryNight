# 星夜创作引擎（StarryNight Engine）

本目录是“星夜创作引擎”的**引擎内核**（不含 Web 接口/控制器）。

## 目标
- **模块化**：导演 / 写手 / 检索 / 一致性检查 都是可替换模块（接口 + 默认实现）。
- **用户分组**：支持普通用户与 VIP 用户使用不同策略（例如检索条数、上下文长度、一致性阈值等）。
- **先引擎、后接口**：先把内核跑通，再接入你现有的控制器与页面。

## 架构约定（按你的“低级层”设计）
- **查询理解**：默认实现为**规则/模板/上下文拼装**（不使用 Query Understanding LLM）。
- **检索**：拿结构化查询去做向量/关键词/元数据的混合检索（后续可替换为不同向量库实现）。
- **导演/写手**：模块化可替换；先实现引擎内核与默认实现，再做对外接口。
- **一致性检查**：分低级/高级两层（先低级硬约束守门，再高级语义审判；高级层可后续接 LLM）。

## 版权说明
本引擎内核代码：Copyright (c) StarryNight
使用到的第三方开源项目（例如 LLPhant）：遵循其各自 LICENSE。

